<!DOCTYPE html>
<html lang="en-US">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
<script>
    function myFunction() {
        var field = document.getElementById("copiedGradeReport")
        alert(field.value);
    }
    function extractSession() {
        var rx = /FW[0-9][0-9]/;
        var lgString = document.getElementById("copiedGradeReport").value;

        var sessions = lgString.match(/FW\d{2}/g);
        var courseCodes = lgString.match(/[A-z]{2}\s[A-z]{2,4}\s\d{4}/g);
        var courseCredit = lgString.match(/\d*\.\d{2}/g);
        var courseTitle = lgString.match(/\t[\w\u0020]\t/g);
        var courseGrade = lgString.match(/\t[A-F]{1,4}\+?\-?\n{1}|\t[A-F]{1}\+?\-?$/g);
        for (var i = 0; i < courseGrade.length; ++i){
            courseGrade[i] = courseGrade[i].replace('\n','');
        }
        alert(sessions.join("\n"));
        alert(courseCodes.join("\n"));
        alert(courseCredit.join("\n"));
        alert(courseTitle.join("\n"));
        alert(courseGrade.join("\n"));
    }
</script>

<body>

<div class="container">
  <h2>GPA Calculator</h2>
  <a href="https://wrem.sis.yorku.ca/Apps/WebObjects/ydml.woa/wa/DirectAction/document?name=CourseListv1">YorkU Grades</a><br>
  <textarea id="copiedGradeReport" rows="20" cols="100"></textarea>
  <br><button onclick="myFunction()">MsgBox</button><button onclick="extractSession()">Parse</button>
  <table class="table">
    <thead>
    <tr>
      <th>Session</th>
      <th>Course Code</th>
      <th>Course Credit</th>
      <th>Course Title</th>
      <th>Grade</th>
    </tr>
    </thead>
    <tbody>
    <tr>
      <td><input type="session" class="form-control" id="inputSession" aria-describedby="sessionHelp" placeholder="Optional - Enter course session"></td>
      <td><input type="courseCode" class="form-control" id="inputCourseCode" aria-describedby="courseCodeHelp" placeholder="Optional - Enter course code"></td>
      <td><input type="courseCredit" class="form-control" id="inputCourseCredit" aria-describedby="courseCreditHelp" placeholder="Enter course credit"></td>
      <td><input type="courseTitle" class="form-control" id="inputCourseTitle" aria-describedby="courseTitleHelp" placeholder="Optional - Enter course title"></td>
      <td><input type="courseGrade" class="form-control" id="inputCourseGrade" aria-describedby="courseGradeHelp" placeholder="Enter course grade"></td>
    </tr>
    </tbody>
  </table>
</div>


</body>
</html>
